{{!-- views/layouts/layout.hbs --}}

<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{title}} | KanbanPro</title>
  <link rel="icon" href="data:,">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body class="app-shell">

  <!-- HEADER COMPLETO -->
  <header id="siteHeader">

    <!-- AVISO SUPERIOR -->
    <div id="announcementBar" class="kp-announcement">
  ðŸš€ KanbanPro estÃ¡ en beta â€” crea tu cuenta gratis
  <a href="/login" class="kp-announcement-link">probar ahora</a>

  <button class="kp-announcement-close" aria-label="Cerrar aviso">
    âœ•
  </button>
</div>

    <!-- NAVBAR -->
    <nav id="mainNav" class="navbar navbar-expand-lg bg-white">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center gap-2 fw-bold" href="/">
          <img src="/img/logouno.svg" alt="KanbanPro" class="kp-logo">
          <span>KanbanPro</span>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Abrir menÃº">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div id="nav" class="collapse navbar-collapse">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="/">inicio</a></li>
            <li class="nav-item"><a class="nav-link" href="/login">login</a></li>
          </ul>
        </div>
      </div>
    </nav>

  </header>

  <!-- CONTENIDO -->
  <main class="app-main">
    {{{body}}}
  </main>

  <!-- FOOTER -->
  <footer class="kp-footer-notion mt-auto pt-2 pb-2">
    <div class="container kp-fn-wrap">

      <div class="kp-fn-top">
        <!-- Logo -->
        <a class="kp-fn-brand" href="/" aria-label="Ir a inicio">
          <img src="/img/logouno.svg" alt="KanbanPro" class="kp-fn-logo">
        </a>

        <!-- Columnas -->
        <div class="kp-fn-cols pb-2">

          <div class="kp-fn-col">
            <div class="kp-fn-title">Producto</div>
            <a class="kp-fn-link" href="#">Tablero</a>
            <a class="kp-fn-link" href="/empezar">Empezar</a>
            <a class="kp-fn-link" href="/login">Iniciar sesiÃ³n</a>
          </div>

          <div class="kp-fn-col">
            <div class="kp-fn-title">Descargas</div>
            <a class="kp-fn-link" href="#">iOS y Android</a>
            <a class="kp-fn-link" href="#">Mac y Windows</a>
            <a class="kp-fn-link" href="#">Web (PWA)</a>
          </div>

          <div class="kp-fn-col">
            <div class="kp-fn-title">Recursos</div>
            <a class="kp-fn-link" href="#">Centro de ayuda</a>
            <a class="kp-fn-link" href="#">GuÃ­a rÃ¡pida</a>
            <a class="kp-fn-link" href="#">Novedades</a>
          </div>

          <div class="kp-fn-col">
            <div class="kp-fn-title">KanbanPro para</div>
            <a class="kp-fn-link" href="#">Equipos</a>
            <a class="kp-fn-link" href="#">Estudiantes</a>
            <a class="kp-fn-link" href="#">Uso personal</a>
          </div>

        </div>
      </div>

      <!-- Barra inferior -->
      <div class="kp-fn-bottom pt-4">
        <div class="kp-fn-copy">Â© <span id="kpYear">2026</span> KanbanPro</div>

        <div class="kp-fn-social" aria-label="Redes sociales">
          <a class="kp-fn-ico" href="#" aria-label="Instagram">
            <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm10 2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-5 4.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5zm0 2A1.5 1.5 0 1 0 13.5 12 1.5 1.5 0 0 0 12 10.5zM18 6.8a.8.8 0 1 1-.8-.8.8.8 0 0 1 .8.8z"/></svg>
          </a>
          <a class="kp-fn-ico" href="#" aria-label="X">
            <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M18.9 3H21l-6.8 7.8L22 21h-6.2l-4.9-6.1L5.6 21H3.5l7.3-8.4L2 3h6.3l4.4 5.6L18.9 3zm-2 16h1.1L7 4H5.8l11.1 15z"/></svg>
          </a>
          <a class="kp-fn-ico" href="#" aria-label="LinkedIn">
            <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M6.5 6.9A1.9 1.9 0 1 1 6.5 3a1.9 1.9 0 0 1 0 3.9zM5 21h3V9H5v12zm5.5-12h2.9v1.6h.1a3.2 3.2 0 0 1 2.9-1.6c3.1 0 3.7 2.1 3.7 4.8V21h-3v-5.3c0-1.3 0-2.9-1.8-2.9s-2.1 1.4-2.1 2.8V21h-3V9z"/></svg>
          </a>
          <a class="kp-fn-ico" href="#" aria-label="Facebook">
            <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M13.5 22v-8h2.6l.4-3H13.5V9.1c0-.9.3-1.6 1.7-1.6h1.5V4.8c-.3 0-1.4-.1-2.7-.1-2.7 0-4.5 1.6-4.5 4.6V11H7v3h2.5v8h4z"/></svg>
          </a>
          <a class="kp-fn-ico" href="#" aria-label="YouTube">
            <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.8 4.6 12 4.6 12 4.6s-5.8 0-7.5.5A3 3 0 0 0 2.4 7.2 31.6 31.6 0 0 0 2 12a31.6 31.6 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.7.5 7.5.5 7.5.5s5.8 0 7.5-.5a3 3 0 0 0 2.1-2.1A31.6 31.6 0 0 0 22 12a31.6 31.6 0 0 0-.4-4.8zM10 15.5v-7l6 3.5-6 3.5z"/></svg>
          </a>
        </div>
      </div>

    </div>
  </footer>

  <!-- AÃ±o dinÃ¡mico -->
  <script>
    const y = document.getElementById("kpYear");
    if (y) y.textContent = new Date().getFullYear();
  </script>

  <!-- Mide aviso + nav para que el hero no se mueva -->
  <script>
    function setHeaderHeight(){
      const header = document.getElementById('siteHeader');
      if(!header) return;
      document.documentElement.style.setProperty('--header-h', header.offsetHeight + 'px');
    }
    window.addEventListener('load', setHeaderHeight);
    window.addEventListener('resize', setHeaderHeight);
  </script>

<script>
  const bar = document.getElementById('announcementBar');
  const btn = document.querySelector('.kp-announcement-close');

  const ONE_DAY = 24 * 60 * 60 * 1000; // 1 dÃ­a en ms

  // ðŸ‘‰ Si existe registro, revisa si ya pasÃ³ 1 dÃ­a
  const hiddenTime = localStorage.getItem('hideAnnouncement');

  if(hiddenTime){
    const diff = Date.now() - Number(hiddenTime);

    if(diff < ONE_DAY){
      // AÃºn no pasa 1 dÃ­a â†’ ocultar
      bar.style.display = 'none';
    }else{
      // Ya pasÃ³ 1 dÃ­a â†’ volver a mostrar
      localStorage.removeItem('hideAnnouncement');
    }
  }

  // ðŸ‘‰ BotÃ³n cerrar
  if(btn && bar){
    btn.addEventListener('click', () => {
      bar.style.display = 'none';

      // guarda el momento en que se cerrÃ³
      localStorage.setItem('hideAnnouncement', Date.now());

      // reajusta el hero
      const header = document.getElementById('siteHeader');
      document.documentElement.style.setProperty('--header-h', header.offsetHeight + 'px');
    });
  }
</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>